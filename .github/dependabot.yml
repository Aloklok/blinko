# Dependabot é…ç½® - é’ˆå¯¹ macOS Monterey (Safari 15) å…¼å®¹æ€§ä¼˜åŒ–
# è¯¦ç»†ç­–ç•¥è¯´æ˜: COMPATIBILITY_LOG.md
version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "Asia/Shanghai"
    
    # æäº¤æ¶ˆæ¯æ ¼å¼
    commit-message:
      prefix: "deps"
      include: "scope"
    
    # PR æ•°é‡é™åˆ¶
    open-pull-requests-limit: 10
    
    # ========================================
    # å…¨å±€ç­–ç•¥ + å…¼å®¹æ€§å…³é”®åŒ…ä¿æŠ¤
    # ========================================
    ignore:
      # ğŸŒ å…¨å±€ï¼šæ‰€æœ‰åŒ…åªæç¤º major æ›´æ–°ï¼Œå¿½ç•¥ minor/patch
      - dependency-name: "*"
        update-types: ["version-update:semver-minor", "version-update:semver-patch"]
      
      # ğŸ”’ å…¼å®¹æ€§å…³é”®åŒ… - å®Œå…¨é”å®šï¼ˆè¿ major ä¹Ÿå¿½ç•¥ï¼‰
      # Markdown ç¼–è¾‘å™¨ - å›ºå®šç‰ˆæœ¬ï¼Œå« Lookbehind æ­£åˆ™é—®é¢˜
      - dependency-name: "vditor"
      
      # CSS é™çº§æ ¸å¿ƒ - Safari 15 color-mix å…¼å®¹
      - dependency-name: "postcss-preset-env"
      
      # JS API Polyfills - Safari 15 å¿…éœ€
      - dependency-name: "abortcontroller-polyfill"
      - dependency-name: "requestidlecallback-polyfill"
      
      # CSS æ„å»ºé“¾æ ¸å¿ƒ
      - dependency-name: "tailwindcss"
      - dependency-name: "autoprefixer"
    
    # ========================================
    # åˆ†ç»„ç­–ç•¥ - å‡å°‘ PR æ•°é‡
    # ========================================
    groups:
      # React æ ¸å¿ƒ
      react-core:
        patterns:
          - "react"
          - "react-dom"
          - "react-router-dom"
      
      # AI SDK å…¨å®¶æ¡¶
      ai-sdk:
        patterns:
          - "@ai-sdk/*"
          - "ai"
          - "@langchain/*"
          - "@mastra/*"
          - "openai"
          - "ollama-ai-provider"
          - "voyage-ai-provider"
          - "@openrouter/*"
      
      # æ•°æ®åº“å±‚
      database:
        patterns:
          - "@prisma/*"
          - "prisma"
          - "pgvector"
          - "@libsql/*"
          - "pg-boss"
      
      # æ„å»ºå·¥å…·é“¾
      build-tools:
        patterns:
          - "vite"
          - "typescript"
          - "esbuild"
          - "turbo"
          - "tsup"
          - "terser"
      
      # Tauri æ¡Œé¢ç«¯
      tauri:
        patterns:
          - "@tauri-apps/*"
          - "tauri-*"
      
      # tRPC å…¨å®¶æ¡¶
      trpc:
        patterns:
          - "@trpc/*"
          - "superjson"
          - "trpc-to-openapi"
          - "zod"
          - "zod-openapi"
      
      # UI ç»„ä»¶åº“
      ui-components:
        patterns:
          - "@heroui/*"
          - "@dnd-kit/*"
          - "framer-motion"
          - "motion"
          - "@react-spring/*"
      
      # 3D æ¸²æŸ“
      three-3d:
        patterns:
          - "three"
          - "@types/three"
          - "@react-three/*"
          - "@shadergradient/*"
      
      # Markdown æ¸²æŸ“
      markdown:
        patterns:
          - "react-markdown"
          - "rehype-*"
          - "remark-*"
          - "katex"
          - "markmap-*"
          - "mermaid"
      
      # å›¾æ ‡ç³»ç»Ÿ
      iconify:
        patterns:
          - "@iconify/*"
          - "@lobehub/icons"
      
      # å›½é™…åŒ–
      i18n:
        patterns:
          - "i18next"
          - "i18next-*"
          - "react-i18next"
      
      # è®¤è¯ç›¸å…³
      auth:
        patterns:
          - "passport"
          - "passport-*"
          - "@auth/*"
          - "jsonwebtoken"
          - "otplib"
      
      # AWS S3
      aws:
        patterns:
          - "@aws-sdk/*"
      
      # å¼€å‘ä¾èµ– - ç±»å‹å®šä¹‰
      dev-types:
        patterns:
          - "@types/*"
      
      # å¼€å‘ä¾èµ– - Lint/Format
      dev-lint:
        patterns:
          - "eslint"
          - "eslint-*"
          - "prettier"
